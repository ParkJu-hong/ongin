{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/bagjuhong/Desktop/ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"/Users/bagjuhong/Desktop/ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/bagjuhong/Desktop/ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject;import React,{useState,useEffect}from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Create(_ref){var season=_ref.season;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imgBase64=_useState2[0],setImgBase64=_useState2[1];// 파일 base64 미리보기\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),imgFile=_useState4[0],setImgFile=_useState4[1];//파일\nuseEffect(function(){},[imgBase64]);function zerocho(event){var xhr=new XMLHttpRequest();var fd=new FormData();fd.append('img',imgFile);fd.append('season',season);xhr.onload=function(){console.log('순차적으로 바뀌는 xhr.status : ',xhr.status);if(xhr.status===200||xhr.status===201){console.log(xhr.responseText);}else{console.error(xhr.responseText);}};xhr.open('POST',\"http://ec2-13-124-170-23.ap-northeast-2.compute.amazonaws.com:80/gallery/create\");xhr.send(fd);}function zerochoInput(event){setImgFile(event.target.files[0]);var reader=new FileReader();reader.readAsDataURL(event.target.files[0]);reader.onload=function(){var base64=reader.result;// console.log('reader.result : ', reader.result);\nif(base64){var base64Sub=base64.toString();// console.log('base64.toString(); : ', base64.toString());\nsetImgBase64(function(imgBase64){return[].concat(_toConsumableArray(imgBase64),[base64Sub]);});}};}return/*#__PURE__*/_jsxs(Main,{children:[imgBase64.length!==0?/*#__PURE__*/_jsx(\"img\",{src:imgBase64,style:{width:'50vw',height:'20vh'}}):/*#__PURE__*/_jsx(\"div\",{style:{width:'50vw',height:'20vh',border:'solid 2px #1E90FF',borderRadius:'5px',marginLeft:'5vw'}}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uC774\\uBBF8\\uC9C0 \\uCD94\\uAC00\\uB780\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:zerochoInput,multiple:\"multiple\"}),/*#__PURE__*/_jsx(\"button\",{onClick:zerocho,style:{},children:\"\\uC791\\uC131\\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{// flex: 0,\nwidth:'40vw',border:'solid 2px #1E90FF',borderRadius:'5px',margin:'10px'}}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",name:\"content\",rows:\"100px\",style:{width:'50vw',height:'30vh',resize:'none',border:'solid 2px #1E90FF',borderRadius:'5px'}})]});}export default Create;var Main=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 100px;\\n\"])));","map":{"version":3,"sources":["/Users/bagjuhong/Desktop/ongin/src/mobile/components/ajaxForGallery/CRUD/Create.jsx"],"names":["React","useState","useEffect","styled","Create","season","imgBase64","setImgBase64","imgFile","setImgFile","zerocho","event","xhr","XMLHttpRequest","fd","FormData","append","onload","console","log","status","responseText","error","open","send","zerochoInput","target","files","reader","FileReader","readAsDataURL","base64","result","base64Sub","toString","length","width","height","border","borderRadius","marginLeft","margin","resize","Main","div"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nfunction Create({ season }) {\n    const [imgBase64, setImgBase64] = useState([]); // 파일 base64 미리보기\n    const [imgFile, setImgFile] = useState(null);\t//파일\n\n    useEffect(() => {\n\n    }, [imgBase64])\n\n    function zerocho(event) {\n\n        const xhr = new XMLHttpRequest();\n        const fd = new FormData();\n\n        fd.append('img', imgFile);\n        fd.append('season', season);\n\n        xhr.onload = function () {\n            console.log('순차적으로 바뀌는 xhr.status : ', xhr.status);\n            if (xhr.status === 200 || xhr.status === 201) {\n                console.log(xhr.responseText);\n            } else {\n                console.error(xhr.responseText);\n            }\n        }\n        xhr.open('POST', `http://ec2-13-124-170-23.ap-northeast-2.compute.amazonaws.com:80/gallery/create`)\n        xhr.send(fd);\n    }\n\n    function zerochoInput(event) {\n        setImgFile(event.target.files[0]);\n        let reader = new FileReader();\n        reader.readAsDataURL(event.target.files[0]);\n        reader.onload = () => {\n            const base64 = reader.result;\n            // console.log('reader.result : ', reader.result);\n            if (base64) {\n                let base64Sub = base64.toString();\n                // console.log('base64.toString(); : ', base64.toString());\n                setImgBase64(imgBase64 => [...imgBase64, base64Sub]);\n            }\n        }\n    }\n\n    return (\n        <Main>\n            {imgBase64.length !== 0 ?\n                <img\n                    src={imgBase64}\n                    style={{ width: '50vw', height: '20vh' }}\n                ></img>\n                :\n                <div style={{\n                    width: '50vw',\n                    height: '20vh',\n                    border: 'solid 2px #1E90FF',\n                    borderRadius: '5px',\n                    marginLeft: '5vw'\n                }}></div>\n            }\n            <h1>이미지 추가란</h1>\n            <input type=\"file\" id=\"file\" onChange={zerochoInput} multiple=\"multiple\" />\n            <button\n                onClick={zerocho}\n                style={{\n                }}\n            >작성완료</button>\n            <h1>제목</h1>\n            <input\n                type=\"text\"\n                style={{\n                    // flex: 0,\n                    width: '40vw',\n                    border: 'solid 2px #1E90FF',\n                    borderRadius: '5px',\n                    margin: '10px'\n                }}></input>\n            <h1>내용</h1>\n            <textarea\n                placeholder=\"내용을 입력해 주세요.\"\n                name=\"content\"\n                rows=\"100px\"\n                style={{\n                    width: '50vw',\n                    height: '30vh',\n                    resize: 'none',\n                    border: 'solid 2px #1E90FF',\n                    borderRadius: '5px'\n\n                }}\n            ></textarea>\n        </Main>\n    )\n}\n\nexport default Create\n\nconst Main = styled.div`\n    text-align: center;\n    margin: 100px;\n`"]},"metadata":{},"sourceType":"module"}
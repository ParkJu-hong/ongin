{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/bagjuhong/Desktop/\\u1107\\u1175\\u11AF\\u1103\\u1173 \\u110C\\u1165\\u11AB ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/bagjuhong/Desktop/\\u1107\\u1175\\u11AF\\u1103\\u1173 \\u110C\\u1165\\u11AB ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bagjuhong/Desktop/\\u1107\\u1175\\u11AF\\u1103\\u1173 \\u110C\\u1165\\u11AB ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bagjuhong/Desktop/\\u1107\\u1175\\u11AF\\u1103\\u1173 \\u110C\\u1165\\u11AB ongin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from\"react-redux\";import{Motion,spring}from'react-motion';import styled from'styled-components';import picturesUrl from'../../dummyData/dummyPictures';import Menubar from'./Menubar';import MenuView from'./MenuView';import ViewDetail from'./ViewDetail';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gallery(_ref){var season=_ref.season;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pictures=_useState2[0],setPictures=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPictureSelected=_useState4[0],setIsPictureSelected=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),forCleanUp=_useState6[0],setForCleanUp=_useState6[1];var dispatch=useDispatch();var category=useSelector(function(state){return state.reducerMenu.category;});useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!forCleanUp){_context.next=3;break;}_context.next=3;return axios(\"ec2-13-124-170-23.ap-northeast-2.compute.amazonaws.com:80/gallery/read?season=\".concat(season)).then(function(data){setPictures(data.data);return;});case 3:return _context.abrupt(\"return\",function(){setForCleanUp(false);});case 4:case\"end\":return _context.stop();}}},_callee);})),[category]);return/*#__PURE__*/_jsx(_Fragment,{children:isPictureSelected?/*#__PURE__*/_jsx(ViewDetail,{closeDetail:setIsPictureSelected}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MenuView,{}),/*#__PURE__*/_jsx(Menubar,{}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){dispatch({type:'CLOSE_MENU'});},children:/*#__PURE__*/_jsx(Motion,{defaultStyle:{x:-200,opacity:0},style:{x:spring(0),opacity:spring(1)},children:function children(style){return/*#__PURE__*/_jsx(Div,{children:pictures.map(function(el,idx){return/*#__PURE__*/_jsx(Img,{src:el.src,style:{opacity:style.opacity},onClick:function onClick(){dispatch({type:'CHANGE_VIEWDETAIL',payload:{picture:el}});setIsPictureSelected(!isPictureSelected);},children:console.log('style.opacity : ',style.opacity)},idx);})});}})})]})});}var Div=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    text-align: center;\\n\"])));var Img=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    /* padding: 25px; */\\n    width: 70%;\\n    height: 30%;\\n    animation-name: name;\\n    animation-duration: 5s;\\n\"])));export default Gallery;","map":{"version":3,"sources":["/Users/bagjuhong/Desktop/빌드 전 ongin/src/mobile/components/Gallery.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Motion","spring","styled","picturesUrl","Menubar","MenuView","ViewDetail","axios","Gallery","season","pictures","setPictures","isPictureSelected","setIsPictureSelected","forCleanUp","setForCleanUp","dispatch","category","state","reducerMenu","then","data","type","x","opacity","style","map","el","idx","src","payload","picture","console","log","Div","div","Img","img"],"mappings":"80BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,MAAjB,KAA+B,cAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,QAASC,CAAAA,OAAT,MAA6B,IAAVC,CAAAA,MAAU,MAAVA,MAAU,CACzB,cAAgCb,QAAQ,CAAC,EAAD,CAAxC,wCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAkDf,QAAQ,CAAC,KAAD,CAA1D,yCAAOgB,iBAAP,eAA0BC,oBAA1B,eACA,eAAoCjB,QAAQ,CAAC,IAAD,CAA5C,yCAAOkB,UAAP,eAAmBC,aAAnB,eAGA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAGA,GAAMkB,CAAAA,QAAQ,CAAGnB,WAAW,CAAC,SAAAoB,KAAK,CAAI,CAClC,MAAOA,CAAAA,KAAK,CAACC,WAAN,CAAkBF,QAAzB,CACH,CAF2B,CAA5B,CAKApB,SAAS,sEAAC,uIACFiB,UADE,+CAEIP,CAAAA,KAAK,yFAAkFE,MAAlF,EAAL,CACDW,IADC,CACI,SAACC,IAAD,CAAU,CACZV,WAAW,CAACU,IAAI,CAACA,IAAN,CAAX,CACA,OACH,CAJC,CAFJ,wCAQC,UAAI,CACPN,aAAa,CAAC,KAAD,CAAb,CACH,CAVK,wDAAD,GAWN,CAACE,QAAD,CAXM,CAAT,CAaA,mBACI,yBACKL,iBAAiB,cAAG,KAAC,UAAD,EAAY,WAAW,CAAEC,oBAAzB,EAAH,cACd,wCACI,KAAC,QAAD,IADJ,cAEI,KAAC,OAAD,IAFJ,cAGI,YAAK,OAAO,CAAE,kBAAM,CAChBG,QAAQ,CAAC,CAAEM,IAAI,CAAE,YAAR,CAAD,CAAR,CACH,CAFD,uBAGI,KAAC,MAAD,EACI,YAAY,CAAE,CAAEC,CAAC,CAAE,CAAC,GAAN,CAAWC,OAAO,CAAE,CAApB,CADlB,CAEI,KAAK,CAAE,CAAED,CAAC,CAAEtB,MAAM,CAAC,CAAD,CAAX,CAAgBuB,OAAO,CAAEvB,MAAM,CAAC,CAAD,CAA/B,CAFX,UAIK,kBAACwB,KAAD,qBACG,KAAC,GAAD,WACKf,QAAQ,CAACgB,GAAT,CAAa,SAACC,EAAD,CAAKC,GAAL,qBACV,KAAC,GAAD,EAAK,GAAG,CAAED,EAAE,CAACE,GAAb,CAEI,KAAK,CAAE,CAAEL,OAAO,CAAEC,KAAK,CAACD,OAAjB,CAFX,CAGI,OAAO,CAAE,kBAAM,CACXR,QAAQ,CAAC,CACLM,IAAI,CAAE,mBADD,CAELQ,OAAO,CAAE,CACLC,OAAO,CAAEJ,EADJ,CAFJ,CAAD,CAAR,CAMAd,oBAAoB,CAAC,CAACD,iBAAF,CAApB,CACH,CAXL,UAWQoB,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCR,KAAK,CAACD,OAAtC,CAXR,EACSI,GADT,CADU,EAAb,CADL,EADH,EAJL,EAHJ,EAHJ,GAFR,EADJ,CAsCH,CAED,GAAMM,CAAAA,GAAG,CAAGhC,MAAM,CAACiC,GAAV,4FAAT,CAGA,GAAMC,CAAAA,GAAG,CAAGlC,MAAM,CAACmC,GAAV,0LAAT,CAQA,cAAe7B,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Motion, spring } from 'react-motion';\nimport styled from 'styled-components';\nimport picturesUrl from '../../dummyData/dummyPictures';\nimport Menubar from './Menubar';\nimport MenuView from './MenuView';\nimport ViewDetail from './ViewDetail';\nimport axios from 'axios';\n\nfunction Gallery({ season }) {\n    const [pictures, setPictures] = useState([]);\n    const [isPictureSelected, setIsPictureSelected] = useState(false);\n    const [forCleanUp, setForCleanUp] = useState(true);\n\n\n    const dispatch = useDispatch();\n\n\n    const category = useSelector(state => {\n        return state.reducerMenu.category\n    });\n\n\n    useEffect(async () => {\n        if (forCleanUp) {\n            await axios(`ec2-13-124-170-23.ap-northeast-2.compute.amazonaws.com:80/gallery/read?season=${season}`)\n                .then((data) => {\n                    setPictures(data.data);\n                    return;\n                })\n        }\n        return ()=>{\n            setForCleanUp(false);\n        }\n    }, [category]);\n\n    return (\n        <>\n            {isPictureSelected ? <ViewDetail closeDetail={setIsPictureSelected} /> :\n                <>\n                    <MenuView />\n                    <Menubar />\n                    <div onClick={() => {\n                        dispatch({ type: 'CLOSE_MENU' })\n                    }}>\n                        <Motion\n                            defaultStyle={{ x: -200, opacity: 0 }}\n                            style={{ x: spring(0), opacity: spring(1) }}\n                        >\n                            {(style) => (\n                                <Div>\n                                    {pictures.map((el, idx) =>\n                                        <Img src={el.src}\n                                            key={idx}\n                                            style={{ opacity: style.opacity }}\n                                            onClick={() => {\n                                                dispatch({\n                                                    type: 'CHANGE_VIEWDETAIL',\n                                                    payload: {\n                                                        picture: el\n                                                    }\n                                                });\n                                                setIsPictureSelected(!isPictureSelected);\n                                            }}>{console.log('style.opacity : ', style.opacity)}</Img>\n                                    )}\n                                </Div>\n                            )}\n\n                        </Motion>\n                    </div>\n                </>\n            }\n        </>\n    )\n}\n\nconst Div = styled.div`\n    text-align: center;\n`;\nconst Img = styled.img`\n    /* padding: 25px; */\n    width: 70%;\n    height: 30%;\n    animation-name: name;\n    animation-duration: 5s;\n`;\n\nexport default Gallery\n"]},"metadata":{},"sourceType":"module"}